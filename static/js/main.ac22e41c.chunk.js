(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{10:function(t,e,n){"use strict";n.d(e,"f",(function(){return r})),n.d(e,"g",(function(){return a})),n.d(e,"e",(function(){return u})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"i",(function(){return b})),n.d(e,"j",(function(){return j})),n.d(e,"h",(function(){return f})),n.d(e,"d",(function(){return l}));var c=n(4),r=Object(c.b)("contacts/fetchContactsRequest"),a=Object(c.b)("contacts/fetchContactsSuccess"),u=Object(c.b)("contacts/fetchContactsError"),o=Object(c.b)("contacts/AddContactRequest"),i=Object(c.b)("contacts/AddContactSuccess"),s=Object(c.b)("contacts/AddContactError"),b=Object(c.b)("contacts/RemoveContactRequest"),j=Object(c.b)("contacts/RemoveContactSuccess"),f=Object(c.b)("contacts/RemoveContactError"),l=Object(c.b)("contacts/changeFilter")},109:function(t,e,n){},110:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(27),a=n.n(r),u=n(11),o=n(51),i=n(18),s=n(36),b=n(37),j=n(40),f=n(39),l=n(7),d=(n(65),n(52)),O=n.n(d),h=n(1),p=function(){return Object(h.jsx)("div",{className:"backdrop",children:Object(h.jsx)("div",{className:"Loader",children:Object(h.jsx)(O.a,{type:"MutatingDots",color:"#44bec7",secondaryColor:"#4e777a",height:100,width:100})})})},x=n(38),g=n(12),v=n(19),m={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,fontSize:"20px",color:"#2a2a2a"},activeLink:{color:"#fff",textShadow:"0 0 20px #54f0fa, 0 0 30px #54f0fa, 0 0 40px #54f0fa, 3px -1px 1px #2a2a2a"}},k=Object(u.b)((function(t){return{isAuthenticated:Object(v.a)(t)}}))((function(t){var e=t.isAuthenticated;return Object(h.jsxs)("nav",{children:[Object(h.jsx)(i.c,{to:g.a.home,exact:!0,style:m.link,activeStyle:m.activeLink,children:"Main"}),e&&Object(h.jsx)(i.c,{to:g.a.contacts,exact:!0,style:m.link,activeStyle:m.activeLink,children:"Contacts"})]})})),y=(n(88),n(28)),w=n.p+"static/media/user.1dabdb24.png",A={container:{display:"flex",alignItems:"center"},avatar:{marginRight:4},name:{fontWeight:700,marginRight:12}},C=function(t){var e=t.avatar,n=t.name,c=t.onLogout;return Object(h.jsxs)("div",{style:A.container,children:[Object(h.jsx)("img",{src:e,alt:n,width:"32",style:A.avatar}),Object(h.jsxs)("span",{style:A.name,children:["Welcome, ",n]}),Object(h.jsx)("button",{className:"user-menu",type:"button",onClick:c,children:"Logout"})]})};C.defaultProps={avatar:w,onLogout:function(){return null}};var S,L,R,z,E,T,q={onLogout:y.c},U=Object(u.b)((function(t){return{name:Object(v.c)(t)}}),q)(C),B={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,fontSize:"20px",color:"#2a2a2a"},activeLink:{color:"#fff",textShadow:"-1px 6px 15px rgba(84,240,250,0.76), 5px 5px 1px rgba(100,240,250,0.4)"}},N=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(i.c,{to:g.a.register,exact:!0,style:B.link,activeStyle:B.activeLink,children:"Sign Up"}),Object(h.jsx)(i.c,{to:g.a.login,exact:!0,style:B.link,activeStyle:B.activeLink,children:"Log In"})]})},W={header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #2A363B"}},D=Object(u.b)((function(t){return{isAuthenticated:Object(v.a)(t)}}))((function(t){var e=t.isAuthenticated;return Object(h.jsxs)("header",{style:W.header,children:[Object(h.jsx)(k,{}),e?Object(h.jsx)(U,{}):Object(h.jsx)(N,{})]})})),I=function(t){return t.loading},P=n(17),M=n(26),_=["component","isAuthenticated","redirectTo"],G=Object(u.b)((function(t){return{isAuthenticated:Object(v.a)(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,c=t.redirectTo,r=Object(M.a)(t,_);return Object(h.jsx)(l.b,Object(P.a)(Object(P.a)({},r),{},{render:function(t){return n?Object(h.jsx)(e,Object(P.a)({},t)):Object(h.jsx)(l.a,{to:c})}}))})),J=["component","isAuthenticated","redirectTo"],F=Object(u.b)((function(t){return{isAuthenticated:Object(v.a)(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,c=t.redirectTo,r=Object(M.a)(t,J);return Object(h.jsx)(l.b,Object(P.a)(Object(P.a)({},r),{},{render:function(t){return n&&r.restricted?Object(h.jsx)(l.a,{to:c}):Object(h.jsx)(e,Object(P.a)({},t))}}))})),H=Object(c.lazy)((function(){return Promise.all([n.e(8),n.e(2)]).then(n.bind(null,223))})),K=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,226))})),Q=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,227))})),V=Object(c.lazy)((function(){return n.e(1).then(n.bind(null,224))})),X=function(t){Object(j.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(s.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={},t}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){var t=this.props.isLoading;return Object(h.jsxs)(x.a,{children:[t&&Object(h.jsx)(p,{}),Object(h.jsx)(D,{}),Object(h.jsx)(c.Suspense,{fallback:Object(h.jsx)(p,{}),children:Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{exact:!0,path:g.a.home,component:H}),Object(h.jsx)(F,{path:g.a.register,restricted:!0,redirectTo:g.a.contacts,component:K}),Object(h.jsx)(F,{path:g.a.login,restricted:!0,redirectTo:g.a.contacts,component:Q}),Object(h.jsx)(G,{path:g.a.contacts,component:V,redirectTo:g.a.login})]})})]})}}]),n}(c.Component),Y={onGetCurrentUser:y.a},Z=Object(u.b)((function(t){return{isLoading:I(t)}}),Y)(X),$=n(30),tt=n(4),et=n(21),nt=n(53),ct=n.n(nt),rt=n(2),at=n(8),ut=n(10),ot=Object(tt.c)([],(S={},Object(rt.a)(S,ut.g,(function(t,e){return e.payload})),Object(rt.a)(S,ut.c,(function(t,e){var n=e.payload;return[].concat(Object($.a)(t),[n])})),Object(rt.a)(S,ut.j,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),S)),it=Object(tt.c)("",Object(rt.a)({},ut.d,(function(t,e){return e.payload}))),st=Object(at.b)({items:ot,filter:it}),bt=n(3),jt={name:null,email:null},ft=Object(tt.c)(jt,(L={},Object(rt.a)(L,bt.l,(function(t,e){return e.payload.user})),Object(rt.a)(L,bt.f,(function(t,e){return e.payload.user})),Object(rt.a)(L,bt.i,(function(){return jt})),Object(rt.a)(L,bt.c,(function(t,e){return e.payload})),L)),lt=Object(tt.c)(!1,(R={},Object(rt.a)(R,bt.l,(function(){return!0})),Object(rt.a)(R,bt.f,(function(){return!0})),Object(rt.a)(R,bt.c,(function(){return!0})),Object(rt.a)(R,bt.d,(function(){return!1})),Object(rt.a)(R,bt.j,(function(){return!1})),Object(rt.a)(R,bt.a,(function(){return!1})),Object(rt.a)(R,bt.i,(function(){return!1})),R)),dt=Object(tt.c)(null,(z={},Object(rt.a)(z,bt.l,(function(t,e){return e.payload.token})),Object(rt.a)(z,bt.f,(function(t,e){return e.payload.token})),Object(rt.a)(z,bt.i,(function(){return null})),z)),Ot=function(t,e){return e.payload},ht=Object(tt.c)(null,(E={},Object(rt.a)(E,bt.d,Ot),Object(rt.a)(E,bt.j,Ot),Object(rt.a)(E,bt.g,Ot),Object(rt.a)(E,bt.a,Ot),Object(rt.a)(E,bt.m,(function(){return null})),E)),pt=Object(at.b)({user:ft,isAuthenticated:lt,token:dt,error:ht}),xt=Object(tt.c)(!1,(T={},Object(rt.a)(T,ut.f,(function(){return!0})),Object(rt.a)(T,ut.g,(function(){return!1})),Object(rt.a)(T,ut.e,(function(){return!1})),Object(rt.a)(T,ut.b,(function(){return!0})),Object(rt.a)(T,ut.c,(function(){return!1})),Object(rt.a)(T,ut.a,(function(){return!1})),Object(rt.a)(T,ut.i,(function(){return!0})),Object(rt.a)(T,ut.j,(function(){return!1})),Object(rt.a)(T,ut.h,(function(){return!1})),Object(rt.a)(T,bt.k,(function(){return!0})),Object(rt.a)(T,bt.l,(function(){return!1})),Object(rt.a)(T,bt.j,(function(){return!1})),Object(rt.a)(T,bt.e,(function(){return!0})),Object(rt.a)(T,bt.f,(function(){return!1})),Object(rt.a)(T,bt.d,(function(){return!1})),Object(rt.a)(T,bt.h,(function(){return!0})),Object(rt.a)(T,bt.i,(function(){return!1})),Object(rt.a)(T,bt.g,(function(){return!1})),Object(rt.a)(T,bt.b,(function(){return!0})),Object(rt.a)(T,bt.c,(function(){return!1})),Object(rt.a)(T,bt.a,(function(){return!1})),T)),gt=Object($.a)(Object(tt.d)({serializableCheck:{ignoredActions:[et.a,et.f,et.b,et.c,et.d,et.e]}})),vt={key:"token",storage:ct.a,whitelist:["token"]},mt=Object(tt.a)({reducer:{auth:Object(et.g)(vt,pt),contacts:st,loading:xt},middleware:gt,devTools:!1}),kt=Object(et.h)(mt);n(109);a.a.render(Object(h.jsx)(u.a,{store:mt,children:Object(h.jsx)(o.a,{loading:null,persistor:kt,children:Object(h.jsx)(i.a,{children:Object(h.jsx)(Z,{})})})}),document.getElementById("root"))},12:function(t,e,n){"use strict";e.a={home:"/",register:"/register",login:"/login",contacts:"/contacts"}},19:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return a}));var c=function(t){return t.auth.isAuthenticated},r=function(t){return t.auth.user.name},a=function(t){return Boolean(t.auth.error)}},28:function(t,e,n){"use strict";n.d(e,"d",(function(){return j})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"e",(function(){return O}));var c=n(20),r=n.n(c),a=n(24),u=n(22),o=n.n(u),i=n(3);o.a.defaults.baseURL="https://connections-api.herokuapp.com";var s=function(t){o.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){o.a.defaults.headers.common.Authorization=""},j=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(i.k()),e.prev=1,e.next=4,o.a.post("/users/signup",t);case 4:c=e.sent,a=c.data,s(a.token),n(i.l(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(i.j(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},f=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(i.e()),e.prev=1,e.next=4,o.a.post("/users/login",t);case 4:c=e.sent,a=c.data,s(a.token),n(i.f(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(i.d(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},l=function(){return function(){var t=Object(a.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(i.h()),t.prev=1,t.next=4,o.a.post("/users/logout");case 4:b(),e(i.i()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(i.g(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},d=function(){return function(){var t=Object(a.a)(r.a.mark((function t(e,n){var c,a,u,b;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n(),a=c.auth.token){t.next=3;break}return t.abrupt("return");case 3:return s(a),e(i.b()),t.prev=5,t.next=8,o.a.get("/users/current");case 8:u=t.sent,b=u.data,e(i.c(b)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e(i.a(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n){return t.apply(this,arguments)}}()},O=function(){return function(t,e){e().auth.error&&t(i.m())}}},3:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"l",(function(){return a})),n.d(e,"j",(function(){return u})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return j})),n.d(e,"g",(function(){return f})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return O})),n.d(e,"m",(function(){return h}));var c=n(4),r=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSuccess"),u=Object(c.b)("auth/registerError"),o=Object(c.b)("auth/loginRequest"),i=Object(c.b)("auth/loginSuccess"),s=Object(c.b)("auth/loginError"),b=Object(c.b)("auth/logoutRequest"),j=Object(c.b)("auth/logoutSuccess"),f=Object(c.b)("auth/logoutError"),l=Object(c.b)("auth/getCurrentUserRequest"),d=Object(c.b)("auth/getCurrentUserSuccess"),O=Object(c.b)("auth/getCurrentUserError"),h=Object(c.b)("auth/removeError")},33:function(t,e,n){t.exports={text:"Section_text__avW66"}},38:function(t,e,n){"use strict";n(0);var c=n(6),r=n.n(c),a=n(33),u=n.n(a),o=n(1),i=function(t){var e=t.title,n=t.children;return Object(o.jsxs)("div",{className:u.a.container,children:[Object(o.jsx)("h2",{className:u.a.text,children:e}),n]})};i.protoTypes={title:r.a.string.isRequired},e.a=i},65:function(t,e,n){},88:function(t,e,n){}},[[110,6,7]]]);
//# sourceMappingURL=main.ac22e41c.chunk.js.map